<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jornada de Trabalho e Frequência - AGR | Portal do Colaborador</title>
  <meta name="description" content="Controle sua jornada de trabalho, frequência e horários na AGR. Registre entrada, saída e acompanhe seu ponto eletrônico.">
  <meta name="keywords" content="jornada trabalho, frequência, ponto eletrônico, horários, AGR, colaborador">
  <meta name="author" content="Agência Goiana de Regulação">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#4299e1">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.agr.go.gov.br/jornada">
  <meta property="og:title" content="Jornada de Trabalho e Frequência - AGR | Portal do Colaborador">
  <meta property="og:description" content="Controle sua jornada de trabalho, frequência e horários na AGR.">
  <meta property="og:image" content="https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-azul.png?raw=true">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="Banners/logo-azul.png">
  <link rel="icon" type="image/png" sizes="32x32" href="Banners/logo-azul.png">
  
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID');
  </script>
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
  
  <!-- Loading indicator -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="loading-spinner"></div>
    <p>Carregando...</p>
  </div>

  <header class="banner" role="banner">
    <div class="header-left">
      <a href="index.html">
        <img id="main-logo" src="https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-azul.png?raw=true" alt="Logo da Agência Goiana de Regulação" class="logo" tabindex="0">
      </a>
    </div>
    <div class="header-right">
      <nav class="nav-banner" aria-label="Navegação principal">
        <a href="index.html" class="nav-btn" aria-label="Início" tabindex="0">INÍCIO</a>
        <button class="nav-btn" type="button" aria-label="Projetos" tabindex="0">PROJETOS</button>
        <button class="nav-btn" type="button" aria-label="Pessoas" tabindex="0">PESSOAS</button>
      </nav>
      <a href="#menu" class="login-icon" id="menuHamburger" title="Menu" tabindex="0" aria-label="Abrir menu" aria-expanded="false">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="6" width="28" height="2" rx="1" fill="currentColor"/>
          <rect y="13" width="28" height="2" rx="1" fill="currentColor"/>
          <rect y="20" width="28" height="2" rx="1" fill="currentColor"/>
        </svg>
      </a>
      <div class="menu-dropdown" id="menuDropdown" aria-label="Menu de opções" role="menu">
        <button onclick="handleLogin()" aria-label="Login" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M15 12H3M12 5l7 7-7 7"/></svg>
          Login
        </button>
        <button onclick="toggleDarkMode()" aria-label="Alternar modo escuro" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
          Modo Escuro
        </button>
        <button onclick="showNotifications()" aria-label="Notificações" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
          Notificações
        </button>
      </div>
    </div>
  </header>

  <main id="main-content" role="main">
    <div class="voltar-container">
      <a href="index.html" class="btn-voltar-fixo" aria-label="Voltar ao início">
        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Voltar
      </a>
    </div>

    <div class="ferias-central">
      <h1 class="main-title">Jornada de Trabalho e Frequência</h1>
      <p>Controle sua jornada de trabalho, frequência e horários</p>
    </div>

    <section class="icones" aria-label="Acesso rápido aos serviços">
      <div class="icone">
        <a href="normas-e-legislação-vigente.html" class="icone-link" aria-label="Normas e Legislação Vigente">
          <img src="https://img.icons8.com/ios-filled/100/000000/law.png" alt="Colaboradores" loading="lazy">
          <span>Normas e Legislação Vigente</span>
        </a>
      </div>
      <div class="icone">
        <a href="formularios-especificos.html" class="icone-link" aria-label="Formulários Específicos">
          <img src="https://img.icons8.com/ios-filled/100/000000/form.png" alt="Formulários Específicos" loading="lazy">
          <span>Formulários Específicos</span>
        </a>
      </div>
      <div class="icone">
        <a href="jornada-de-trabalho.html" class="icone-link" aria-label="Jornada de Trabalho">
          <img src="https://img.icons8.com/ios-filled/100/000000/overtime.png" alt="Jornada de Trabalho" loading="lazy">
          <span>Jornada de Trabalho</span>
        </a>
      </div>
      <div class="icone">
        <a href="horarios-especificos.html" class="icone-link" aria-label="Horários Específicos">
          <img src="https://img.icons8.com/ios-filled/100/000000/clock.png" alt="Horários Específicos" loading="lazy">
          <span>Horários Específicos</span>
        </a>
      </div>
      <div class="icone">
        <a href="abonos-e-justificativas.html" class="icone-link" aria-label="Abonos e Justificativas">
          <img src="https://img.icons8.com/ios-filled/100/000000/approval.png" alt="Abonos e Justificativas" loading="lazy">
          <span>Abonos e Justificativas</span>
        </a>
      </div>
    </div>
  </section>

    <section id="ponto" class="info-section">
      <h2>Ponto Eletrônico</h2>
      <div class="steps-container">
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v6m0 0v6m0-6h6m-6 0H6"/>
            </svg>
            Registrar Entrada
          </h3>
          <p>Registre sua entrada no trabalho através do ponto eletrônico.</p>
          <button class="btn-primary" onclick="registrarEntrada()">Registrar Entrada</button>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v6m0 0v6m0-6h6m-6 0H6"/>
            </svg>
            Registrar Saída
          </h3>
          <p>Registre sua saída do trabalho ao final da jornada.</p>
          <button class="btn-primary" onclick="registrarSaida()">Registrar Saída</button>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2v6m0 0v6m0-6h6m-6 0H6"/>
            </svg>
            Pausa para Almoço
          </h3>
          <p>Registre entrada e saída para o período de almoço.</p>
          <button class="btn-secondary" onclick="registrarPausa()">Registrar Pausa</button>
        </div>
      </div>
    </section>

    <section id="frequencia" class="info-section">
      <h2>Controle de Frequência</h2>
      <div class="steps-container">
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"/>
            </svg>
            Frequência Mensal
          </h3>
          <p>Visualize sua frequência completa do mês atual com detalhes de presença e ausências.</p>
          <button class="btn-secondary" onclick="verFrequenciaMensal()">Ver Frequência</button>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"/>
            </svg>
            Histórico de Frequência
          </h3>
          <p>Acesse o histórico completo de sua frequência nos últimos meses.</p>
          <button class="btn-secondary" onclick="verHistoricoFrequencia()">Ver Histórico</button>
        </div>
      </div>
    </section>

    <section id="horarios" class="info-section">
      <h2>Horários de Trabalho</h2>
      <div class="steps-container">
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            Horário Padrão
          </h3>
          <p>Horário padrão de trabalho: 8h diárias, de segunda a sexta-feira.</p>
          <p><strong>Entrada:</strong> 08:00h | <strong>Saída:</strong> 17:00h</p>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            Horário Flexível
          </h3>
          <p>Para servidores com horário flexível, consulte sua escala específica.</p>
          <button class="btn-secondary" onclick="consultarEscala()">Consultar Escala</button>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            Banco de Horas
          </h3>
          <p>Controle seu banco de horas extras e compensações de trabalho.</p>
          <button class="btn-secondary" onclick="verBancoHoras()">Ver Banco de Horas</button>
        </div>
      </div>
    </section>

    <section id="relatorios" class="info-section">
      <h2>Relatórios e Estatísticas</h2>
      <div class="steps-container">
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"/>
            </svg>
            Relatório Mensal
          </h3>
          <p>Gere relatório detalhado de sua jornada de trabalho no mês.</p>
          <button class="btn-primary" onclick="gerarRelatorioMensal()">Gerar Relatório</button>
        </div>
        <div class="step-card">
          <h3>
            <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 19v-6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2zm0 0V9a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v10m-6 0a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2m0 0V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2z"/>
            </svg>
            Estatísticas
          </h3>
          <p>Visualize estatísticas de pontualidade, horas trabalhadas e frequência.</p>
          <button class="btn-secondary" onclick="verEstatisticas()">Ver Estatísticas</button>
        </div>
      </div>
    </section>

    <div class="alert">
      <strong>Importante:</strong> O registro de ponto é obrigatório e deve ser feito diariamente. Em caso de problemas com o ponto eletrônico, entre em contato com o RH imediatamente.
    </div>
  </main>

  <!-- Back to top button -->
  <button id="back-to-top-btn" class="back-to-top-btn" aria-label="Voltar ao topo">
    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 15l-6-6-6 6"/>
    </svg>
  </button>

  <!-- Notification toast -->
  <div id="notification-toast" class="notification-toast"></div>

  <script>
    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
      hideLoadingOverlay();
      setupBackToTop();
      setupNotifications();
      setupGamification();
      setupAnalytics();
      registerServiceWorker();
    });

    // Page-specific functions
    function registrarEntrada() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('pt-BR');
      showNotification(`Entrada registrada às ${timeString}`, 'success');
    }

    function registrarSaida() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('pt-BR');
      showNotification(`Saída registrada às ${timeString}`, 'success');
    }

    function registrarPausa() {
      showNotification('Pausa para almoço registrada!', 'info');
    }

    function verFrequenciaMensal() {
      showNotification('Carregando frequência mensal...', 'info');
    }

    function verHistoricoFrequencia() {
      showNotification('Abrindo histórico de frequência...', 'info');
    }

    function consultarEscala() {
      showNotification('Consultando escala de horários...', 'info');
    }

    function verBancoHoras() {
      showNotification('Carregando banco de horas...', 'info');
    }

    function gerarRelatorioMensal() {
      showNotification('Gerando relatório mensal...', 'info');
      setTimeout(() => {
        showNotification('Relatório gerado com sucesso!', 'success');
      }, 3000);
    }

    function verEstatisticas() {
      showNotification('Carregando estatísticas...', 'info');
    }

    // Common functions from other pages
    function hideLoadingOverlay() {
      const overlay = document.getElementById('loading-overlay');
      if (overlay) {
        setTimeout(() => {
          overlay.style.opacity = '0';
          setTimeout(() => {
            overlay.style.display = 'none';
          }, 300);
        }, 500);
      }
    }

    function setupBackToTop() {
      const backToTopBtn = document.getElementById('back-to-top-btn');
      if (backToTopBtn) {
        window.addEventListener('scroll', () => {
          if (window.pageYOffset > 300) {
            backToTopBtn.style.display = 'block';
          } else {
            backToTopBtn.style.display = 'none';
          }
        });

        backToTopBtn.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      }
    }

    function setupNotifications() {
      window.showNotifications = function() {
        showNotification('Sistema de notificações em desenvolvimento!', 'info');
      };
    }

    function showNotification(message, type = 'info') {
      const toast = document.getElementById('notification-toast');
      if (toast) {
        toast.textContent = message;
        toast.className = `notification-toast notification-${type}`;
        toast.style.display = 'block';
        
        setTimeout(() => {
          toast.style.display = 'none';
        }, 3000);
      }
    }

    function setupGamification() {
      const progress = JSON.parse(localStorage.getItem('userProgress')) || { level: 1, xp: 0, pagesVisited: 0 };
      progress.pagesVisited = (progress.pagesVisited || 0) + 1;
      progress.xp += 5;
      
      const newLevel = Math.floor(progress.xp / 100) + 1;
      if (newLevel > progress.level) {
        progress.level = newLevel;
        showNotification(`Parabéns! Você alcançou o nível ${newLevel}!`, 'success');
      }
      
      localStorage.setItem('userProgress', JSON.stringify(progress));
    }

    function setupAnalytics() {
      if (typeof gtag !== 'undefined') {
        gtag('event', 'page_view', {
          page_title: 'Jornada de Trabalho e Frequência',
          page_location: window.location.href
        });
      }
    }

    function registerServiceWorker() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
          .then(registration => {
            console.log('Service Worker registrado com sucesso:', registration);
          })
          .catch(error => {
            console.log('Falha ao registrar Service Worker:', error);
          });
      }
    }

    // Menu functionality
    function handleLogin() {
      showNotification('Sistema de login em desenvolvimento!', 'info');
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      const isDarkMode = document.body.classList.contains('dark-mode');
      localStorage.setItem('darkMode', isDarkMode);
      showNotification(`Modo ${isDarkMode ? 'escuro' : 'claro'} ativado!`, 'success');
    }

    // Menu toggle
    document.getElementById('menuHamburger').addEventListener('click', function() {
      const dropdown = document.getElementById('menuDropdown');
      const isExpanded = this.getAttribute('aria-expanded') === 'true';
      
      this.setAttribute('aria-expanded', !isExpanded);
      dropdown.style.display = isExpanded ? 'none' : 'block';
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      const menuBtn = document.getElementById('menuHamburger');
      const dropdown = document.getElementById('menuDropdown');
      
      if (!menuBtn.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.style.display = 'none';
        menuBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Load dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }
  </script>
</body>
</html> 
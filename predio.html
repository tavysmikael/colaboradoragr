
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Estrutura do Edifício - AGR | Portal do Colaborador</title>
  <meta name="description" content="Explore a estrutura do edifício da Agência Goiana de Regulação, com informações sobre os andares e alas.">
  <meta name="keywords" content="estrutura, edifício, andares, alas, AGR, colaborador">
  <meta name="author" content="Agência Goiana de Regulação">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#4299e1">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.agr.go.gov.br/estrutura-edificio">
  <meta property="og:title" content="Estrutura do Edifício - AGR | Portal do Colaborador">
  <meta property="og:description" content="Explore a estrutura do edifício da Agência Goiana de Regulação, com informações sobre os andares e alas.">
  <meta property="og:image" content="https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-azul.png?raw=true">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="Banners/logo-azul.png">
  <link rel="icon" type="image/png" sizes="32x32" href="Banners/logo-azul.png">
  
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'GA_MEASUREMENT_ID');
  </script>
</head>
<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
  
  <!-- Loading indicator -->
  <div id="loading-overlay" class="loading-overlay">
    <div class="loading-spinner"></div>
    <p>Carregando...</p>
  </div>

  <header class="banner" role="banner">
    <div class="header-left">
      <a href="index.html">
        <img id="main-logo" src="https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-azul.png?raw=true" alt="Logo da Agência Goiana de Regulação" class="logo">
      </a>
    </div>
    <div class="header-right">
      <nav class="nav-banner" aria-label="Navegação principal">
        <a href="index.html" class="nav-btn" aria-label="Início">INÍCIO</a>
        <button class="nav-btn" type="button" aria-label="Projetos">PROJETOS</button>
        <button class="nav-btn" type="button" aria-label="Pessoas">PESSOAS</button>
      </nav>
      <a href="#menu" class="login-icon" id="menuHamburger" title="Menu" aria-label="Abrir menu" aria-expanded="false">
        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect y="6" width="28" height="2" rx="1" fill="currentColor"/>
          <rect y="13" width="28" height="2" rx="1" fill="currentColor"/>
          <rect y="20" width="28" height="2" rx="1" fill="currentColor"/>
        </svg>
      </a>
      <div class="menu-dropdown" id="menuDropdown" aria-label="Menu de opções" role="menu">
        <button onclick="handleLogin()" aria-label="Login" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M15 12H3M12 5l7 7-7 7"/></svg>
          Login
        </button>
        <button onclick="toggleDarkMode()" aria-label="Alternar modo escuro" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
          Modo Escuro
        </button>
        <button onclick="showNotifications()" aria-label="Notificações" role="menuitem">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
          Notificações
        </button>
      </div>
    </div>
  </header>
  <hr class="custom-hr" />
  <div class="voltar-container">
    <button class="btn-voltar-fixo" onclick="window.history.back()" title="Voltar">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>
  <main id="main-content">
    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="Navegação breadcrumb">
      <ol class="breadcrumb-list">
        <li class="breadcrumb-item"><a href="index.html">Início</a></li>
        <li class="breadcrumb-item" aria-current="page">Estrutura do Edifício</li>
      </ol>
    </nav>
    <div class="building-container">
      <div class="building-wrapper">
        <!-- Painel esquerdo -->
        <div id="left-panel" class="info-panel left">
          <h2>Informações da Ala Esquerda</h2>
          <div id="left-content">Clique em uma ala esquerda para ver as informações.</div>
        </div>
        <!-- Prédio -->
        <div class="building">
          <!-- Faixa azul -->
          <div class="facade">
            Agência Goiana de Regulação
          </div>
          <!-- Térreo -->
          <div class="floor ground-floor" >
            Entrada Principal
          </div>
          <!-- Andares -->
          <div class="floor" data-label="2º">
            <div class="floor-left" data-side="left" data-info="2º Andar - Ala Esquerda: " onclick="toggleInfoBalloon('2-left')"></div>
            <div class="floor-right" data-side="right" data-info="2º Andar - Ala Direita: " onclick="toggleInfoBalloon('2-right')"></div>
          </div>
          <div class="floor" data-label="3º">
            <div class="floor-left" data-side="left" data-info="
              <h2>3º Andar - Ala Esquerda: <br>GEFDA</h2> <br> Integrantes:" onclick="toggleInfoBalloon('3-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              <h2>3º Andar - Ala Direita:<br>Ouvidoria Setorial</h2> <br> Integrantes:" onclick="toggleInfoBalloon('3-right')"></div>
          </div>
          <div class="floor" data-label="4º">
            <div class="floor-left" data-side="left" data-info="
              4º Andar - Ala Esquerda: PROCSET" onclick="toggleInfoBalloon('4-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              4º Andar - Ala Direita: GER. CONTABILIDADE <br>" onclick="toggleInfoBalloon('4-right')"></div>
          </div>
          <div class="floor" data-label="5º">
            <div class="floor-left" data-side="left" data-info="
              5º Andar - Ala Esquerda: RH" onclick="toggleInfoBalloon('5-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              5º Andar - Ala Direita: Jurídico" onclick="toggleInfoBalloon('5-right')"></div>
          </div>
          <div class="floor" data-label="6º">
            <div class="floor-left" data-side="left" data-info="
              6º Andar - Ala Esquerda: Marketing" onclick="toggleInfoBalloon('6-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              6º Andar - Ala Direita: Financeiro" onclick="toggleInfoBalloon('6-right')"></div>
          </div>
          <div class="floor" data-label="7º">
            <div class="floor-left" data-side="left" data-info="
              7º Andar - Ala Esquerda: Diretoria" onclick="toggleInfoBalloon('7-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              7º Andar - Ala Direita: Sala de Reuniões" onclick="toggleInfoBalloon('7-right')"></div>
          </div>
          <div class="floor" data-label="8º">
            <div class="floor-left" data-side="left" data-info="
              8º Andar - Ala Esquerda: (Edite aqui)" onclick="toggleInfoBalloon('8-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              8º Andar - Ala Direita: (Edite aqui)" onclick="toggleInfoBalloon('8-right')"></div>
          </div>
          <div class="floor" data-label="9º">
            <div class="floor-left" data-side="left" data-info="
              9º Andar - Ala Esquerda: (Edite aqui)" onclick="toggleInfoBalloon('9-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              9º Andar - Ala Direita: (Edite aqui)" onclick="toggleInfoBalloon('9-right')"></div>
          </div>
          <div class="floor" data-label="10º">
            <div class="floor-left" data-side="left" data-info="
              10º Andar - Ala Esquerda: (Edite aqui)" onclick="toggleInfoBalloon('10-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              10º Andar - Ala Direita: (Edite aqui)" onclick="toggleInfoBalloon('10-right')"></div>
          </div>
          <div class="floor" data-label="11º">
            <div class="floor-left" data-side="left" data-info="
              11º Andar - Ala Esquerda: (Edite aqui)" onclick="toggleInfoBalloon('11-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              11º Andar - Ala Direita: (Edite aqui)" onclick="toggleInfoBalloon('11-right')"></div>
          </div>
          <div class="floor" data-label="12º">
            <div class="floor-left" data-side="left" data-info="
              12º Andar - Ala Esquerda: (Edite aqui)" onclick="toggleInfoBalloon('12-left')"></div>
            <div class="floor-right" data-side="right" data-info="
              12º Andar - Ala Direita: (Edite aqui)" onclick="toggleInfoBalloon('12-right')"></div>
          </div>
          <div class="floor" data-label="">
            <div class="floor-left" data-side="left" data-info="13º Andar - Ala Esquerda: Auditorio" onclick="toggleInfoBalloon('13-left')"></div>
            <div class="floor-right" data-side="right" data-info="13º Andar - Ala Direita: Cozinha" onclick="toggleInfoBalloon('13-right')"></div>
          </div>
        </div>
        <!-- Painel direito -->
        <div id="right-panel" class="info-panel right">
          <h2>Informações da Ala Direita</h2>
          <div id="right-content">Clique em uma ala direita para ver as informações.</div>
        </div>
      </div>
    </div>
  </main>
  <footer class="footer-banner" aria-label="Rodapé" role="contentinfo">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Informações e Contato</h3>
        <p>Telefone: (62) 3226-6436</p>
        <p>WhatsApp: (62) 98480-7353</p>
        <p>Email: ouvidoria.agr@goias.gov.br</p>
      </div>
      <div class="footer-section">
        <h3>Links Úteis</h3>
        <ul>
          <li><a href="https://www.goias.gov.br" target="_blank" rel="noopener">Portal do Governo</a></li>
          <li><a href="https://www.goias.gov.br/agr/" target="_blank" rel="noopener">Site Oficial AGR</a></li>
          <li><a href="https://www.transparencia.go.gov.br" target="_blank" rel="noopener">Transparência</a></li>
        </ul>
      </div>
      <div class="footer-section">
        <h3>Redes Sociais</h3>
        <div class="footer-social">
          <a href="https://facebook.com" target="_blank" title="Facebook" aria-label="Facebook">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="https://instagram.com" target="_blank" title="Instagram" aria-label="Instagram">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5a4.25 4.25 0 0 0 4.25-4.25v-8.5a4.25 4.25 0 0 0-4.25-4.25h-8.5zm4.25 3.75a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9zm0 1.5a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm5.25-2.25a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
          </a>
          <a href="https://youtube.com" target="_blank" title="YouTube" aria-label="YouTube">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
          </a>
          <a href="https://x.com" target="_blank" title="X" aria-label="X">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </a>
          <a href="https://tiktok.com" target="_blank" title="TikTok" aria-label="TikTok">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M19.589 6.686a4.793 4.793 0 0 1-3.77-2.245 6.17 6.17 0 0 1-.828-3.441h-2.862v13.552a2.913 2.913 0 0 1-2.847 2.966 2.895 2.895 0 0 1-2.932-2.84c0-1.506 1.227-2.742 2.74-2.877V8.68c-2.925.139-5.344 2.5-5.344 5.446 0 3.018 2.45 5.467 5.468 5.467 3.018 0 5.468-2.449 5.468-5.467V7.487a8.75 8.75 0 0 0 4.106 1.022V6.686z"/>
            </svg>
          </a>
          <a href="https://linkedin.com" target="_blank" title="LinkedIn" aria-label="LinkedIn">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="#000">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>
  <div class="copyright-bar">
    © Copyright 2025, Agência Goiana de Regulação - All Rights Reserved
  </div>
  <!-- Floating Action Buttons -->
  <div class="floating-buttons">
    <button id="dark-mode-btn" title="Alternar Modo Escuro" aria-label="Alternar Modo Escuro" tabindex="0">
      <span id="dark-mode-icon">&#9789;</span>
    </button>
    <button id="back-to-top-btn" title="Voltar ao topo" aria-label="Voltar ao topo" tabindex="0" style="display: none;">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 15l-6-6-6 6"/>
      </svg>
    </button>
  </div>
  <!-- Notification Toast -->
  <div id="notification-toast" class="notification-toast" role="alert" aria-live="polite"></div>

  <style>
    .building-container {
      width: 100%;
      max-width: 1400px;
      padding: 0 30px;
      text-align: center;
      position: relative;
      z-index: 1;
      margin: 0 auto;
    }

    .building-wrapper {
      display: flex;
      align-items: flex-start;
      justify-content: center;
      gap: 20px;
      margin: 0 auto;
      width: fit-content;
    }

    .building {
      position: relative;
      width: 350px;
      display: flex;
      flex-direction: column-reverse;
      border: 5px solid #003366;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.1);
      clip-path: polygon(0 100%, 0 0, 85% 0, 100% 12%, 100% 100%);
      background: linear-gradient(160deg, #00264d, #004d80 40%, #0077b3 100%);
      animation: buildingGlow 4s infinite alternate;
    }

    @keyframes buildingGlow {
      from { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3), inset 0 0 20px rgba(0, 0, 0, 0.1); }
      to { box-shadow: 0 12px 35px rgba(0, 77, 153, 0.5), inset 0 0 25px rgba(0, 0, 0, 0.2); }
    }

    .facade {
      background: linear-gradient(90deg, #004d80, #0066a3);
      color: white;
      text-align: center;
      padding: 15px;
      font-weight: 600;
      font-size: 1.1rem;
      letter-spacing: 1px;
      border-top: 3px solid #002d4d;
      border-bottom: 3px solid #002d4d;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    }

    .floor {
      flex: 1;
      min-height: 55px;
      background: linear-gradient(135deg, #003d66, #005580, #0066a3);
      border-top: 1px solid rgba(255, 255, 255, 0.15);
      border-bottom: 1px solid rgba(0, 0, 0, 0.3);
      position: relative;
      display: flex;
      transition: transform 0.3s ease, background 0.3s ease;
    }

    .floor:hover {
      background: linear-gradient(135deg, #0066a3, #0099cc, #00b3e6);
      transform: translateY(-2px);
    }

    .floor-left, .floor-right {
      flex: 1;
      cursor: pointer;
      position: relative;
      transition: background 0.3s ease;
    }

    .floor-left:hover, .floor-right:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .floor::after {
      content: attr(data-label);
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: rgba(255, 255, 255, 0.7);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .ground-floor {
      background: linear-gradient(90deg, #002d4d, #001a2e);
      color: white;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      letter-spacing: 1px;
      cursor: pointer;
      min-height: 65px;
      transition: background 0.3s ease;
    }

    .ground-floor:hover {
      background: linear-gradient(90deg, #001a2e, #000f1a);
    }

    .info-panel {
      width: 500px;
      height: 700px; 
      background: white;
      border: 2px solid #003366;
      border-radius: 10px;
      padding: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      display: none;
      overflow-y: auto;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .info-panel.show {
      display: block;
      opacity: 1;
      animation: fadeIn 0.3s ease-in-out;
    }
    .dark-mode .info-panel {
      background: #1a2e44; /* Azul escuro para o fundo */
      border: 2px solid #4299e1; /* Borda azul clara para contraste */
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5); /* Sombra mais escura */
    }

    .dark-mode .info-panel h2 {
      color: #e0e7ff; /* Texto claro para o título */
    }

    .dark-mode .info-panel div {
      color: #d1d5db; /* Texto suave para o conteúdo */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .info-panel.left {
      order: -1;
    }

    .info-panel.right {
      order: 1;
    }

    .info-panel h2 {
      font-size: 18px;
      margin-top: 0;
      color: #1a2e44;
    }

    .info-panel div {
      font-size: 0.9rem;
      color: #1a2e44;
    }

    @media (max-width: 768px) {
      .building-container {
        padding: 30px 15px;
      }
      
      .building {
        width: 280px;
      }
      
      .floor,
      .ground-floor {
        min-height: 45px;
        font-size: 0.85rem;
      }
      
      .facade {
        font-size: 1rem;
        padding: 10px;
      }

      .info-panel {
        width: 200px;
      }
    }

    @media (max-width: 480px) {
      .building-wrapper {
        flex-direction: column;
        align-items: center;
      }

      .info-panel {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80%;
        height: auto;
        max-height: 80vh;
      }
    }
  </style>

  <script>
    // MENU SUSPENSO HAMBURGER
    const menuHamburger = document.getElementById('menuHamburger');
    const menuDropdown = document.getElementById('menuDropdown');
    document.addEventListener('click', function(e) {
      if (menuDropdown.classList.contains('show') && !menuDropdown.contains(e.target) && e.target !== menuHamburger && !menuHamburger.contains(e.target)) {
        menuDropdown.classList.remove('show');
      }
    });
    menuHamburger.addEventListener('click', function(e) {
      e.preventDefault();
      const isExpanded = menuDropdown.classList.toggle('show');
      menuHamburger.setAttribute('aria-expanded', isExpanded);
    });
    menuHamburger.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        const isExpanded = menuDropdown.classList.toggle('show');
        menuHamburger.setAttribute('aria-expanded', isExpanded);
      }
    });

    // LOGO DYNAMIC SWITCH
    function updateLogoForMode() {
      const logo = document.getElementById('main-logo');
      if (document.body.classList.contains('dark-mode')) {
        logo.src = 'https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-branco.png?raw=true';
      } else {
        logo.src = 'https://github.com/tavysmikael/colaboradoragr/blob/35dd20706c02d12cf7c279e4f4f27f98cfa9a11c/logo-azul.png?raw=true';
      }
    }
    // DARK MODE ICON SWITCH
   function updateDarkModeIcon() {
      const icon = document.getElementById('dark-mode-icon');
      if (document.body.classList.contains('dark-mode')) {
        icon.innerHTML = '&#9728;'; // sun
      } else {
        icon.innerHTML = '<svg width="30" height="30" viewBox="0 0 24 24" fill="black" xmlns="http://www.w3.org/2000/svg"><path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"/></svg>' // moon
      }
    }
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      menuDropdown.classList.remove('show');
      localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
      updateLogoForMode();
      updateDarkModeIcon();
    }
    // Persistência do modo escuro
    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
    }
    updateLogoForMode();
    updateDarkModeIcon();
    // Botão flutuante de dark mode
    document.getElementById('dark-mode-btn').addEventListener('click', function(e) {
      toggleDarkMode();
    });

    // Acessibilidade: navegação por teclado
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Tab') {
        document.body.classList.add('user-is-tabbing');
      }
    });
    document.addEventListener('mousedown', function() {
      document.body.classList.remove('user-is-tabbing');
    });

    // Performance: Hide loading overlay when page is ready
    window.addEventListener('load', function() {
      const loadingOverlay = document.getElementById('loading-overlay');
      if (loadingOverlay) {
        loadingOverlay.style.opacity = '0';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
        }, 300);
      }
    });

    // Back to top button
    const backToTopBtn = document.getElementById('back-to-top-btn');
    if (backToTopBtn) {
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTopBtn.style.display = 'block';
        } else {
          backToTopBtn.style.display = 'none';
        }
      });

      backToTopBtn.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }

    // Notification system
    function showNotification(message, type = 'info') {
      const toast = document.getElementById('notification-toast');
      if (toast) {
        toast.textContent = message;
        toast.className = `notification-toast ${type}`;
        toast.style.display = 'block';
        
        setTimeout(() => {
          toast.style.display = 'none';
        }, 3000);
      }
    }

    // Info Panel functionality
    const leftPanel = document.getElementById('left-panel');
    const rightPanel = document.getElementById('right-panel');
    const leftContent = document.getElementById('left-content');
    const rightContent = document.getElementById('right-content');

    function toggleInfoBalloon(id) {
      const [floorNumber, side] = id.split('-');
      const floor = document.querySelector(`.floor[data-label="${floorNumber}º"]`);
      const targetElement = floor.querySelector(`.floor-${side}[data-side="${side}"]`);
      const info = targetElement.getAttribute('data-info');

      if (side === 'left') {
        if (leftPanel.classList.contains('show') && leftContent.innerHTML === info) {
          leftPanel.classList.remove('show');
        } else {
          leftContent.innerHTML = info; // Usa innerHTML para renderizar HTML
          leftPanel.classList.add('show');
          rightPanel.classList.remove('show');
        }
      } else {
        if (rightPanel.classList.contains('show') && rightContent.innerHTML === info) {
          rightPanel.classList.remove('show');
        } else {
          rightContent.innerHTML = info; // Usa innerHTML para renderizar HTML
          rightPanel.classList.add('show');
          leftPanel.classList.remove('show');
        }
      }
    }

    // Analytics: Track page views
    if (typeof gtag !== 'undefined') {
      gtag('event', 'page_view', {
        'page_title': 'Estrutura do Edifício',
        'page_location': window.location.href
      });
    }

    // Track user interactions
    document.addEventListener('click', function(e) {
      if (e.target.closest('.floor-left') || e.target.closest('.floor-right')) {
        if (typeof gtag !== 'undefined') {
          gtag('event', 'click', {
            'event_category': 'interaction',
            'event_label': 'floor_info_panel'
          });
        }
      }
    });

    // Service Worker Registration for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('SW registered: ', registration);
          })
          .catch(function(registrationError) {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }

    // Placeholder for login function
    function handleLogin() {
      showNotification('Login não implementado ainda.', 'warning');
    }

    // Placeholder for notifications function
    function showNotifications() {
      showNotification('Nenhuma notificação no momento.', 'info');
    }
  </script>
</body>
</html>
